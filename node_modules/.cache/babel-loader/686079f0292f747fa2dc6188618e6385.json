{"ast":null,"code":"'use strict';\n\nvar path = require('path');\n\nvar locatePath = require('locate-path');\n\nmodule.exports = function (filename, opts) {\n  opts = opts || {};\n  var startDir = path.resolve(opts.cwd || '');\n  var root = path.parse(startDir).root;\n  var filenames = [].concat(filename);\n  return new Promise(function (resolve) {\n    (function find(dir) {\n      locatePath(filenames, {\n        cwd: dir\n      }).then(function (file) {\n        if (file) {\n          resolve(path.join(dir, file));\n        } else if (dir === root) {\n          resolve(null);\n        } else {\n          find(path.dirname(dir));\n        }\n      });\n    })(startDir);\n  });\n};\n\nmodule.exports.sync = function (filename, opts) {\n  opts = opts || {};\n  var dir = path.resolve(opts.cwd || '');\n  var root = path.parse(dir).root;\n  var filenames = [].concat(filename); // eslint-disable-next-line no-constant-condition\n\n  while (true) {\n    var file = locatePath.sync(filenames, {\n      cwd: dir\n    });\n\n    if (file) {\n      return path.join(dir, file);\n    } else if (dir === root) {\n      return null;\n    }\n\n    dir = path.dirname(dir);\n  }\n};","map":null,"metadata":{},"sourceType":"script"}